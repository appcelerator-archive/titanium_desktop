<html>
	<head>
		<style>
			body { font-family: sans, sans-serif; background-color: white; }
			div{
				margin:10px;
			}
		</style>
		<script>
			var alertEvent = false;
			function event_function(event)
			{
				Titanium.API.debug(event);
			}
			var id = Titanium.UI.currentWindow.addEventListener(event_function);
			Titanium.UI.currentWindow.removeEventListener(id);

			function selectFilesCallback(result)
			{
				debug(result);
				log('You chose: '+result.length+' files');
			}
			function debug(result)
			{
				var el = document.getElementById("log");
				var html = "<div>You selected the following:</div>";
				html+="<ul>";
				for (var c=0;c<result.length;c++)
				{
					var row = result[c];
					html+="<li>"+row+"</li>";
				}
				html+="</ul>";
				el.innerHTML = html;
			}
			function log(s)
			{
				var el = document.getElementById("log");

				el.innerHTML += s;
			}
			function chooseFiles()
			{
				Titanium.UI.openFileChooserDialog(selectFilesCallback);
			}
			function chooseFilesWithPath()
			{
				Titanium.UI.openFileChooserDialog(selectFilesCallback, {
					path: 'c:\\windows'
				});
			}
			function chooseFilesWithPathAndFilename()
			{
				Titanium.UI.openFileChooserDialog(selectFilesCallback, {
					path: 'c:\\windows',
					filename: 'notepad.exe'
				});
			}
			function chooseDirs()
			{
				Titanium.UI.openFolderChooserDialog(selectFilesCallback);
			}
			function chooseMultipleFiles()
			{
				Titanium.UI.openFileChooserDialog(selectFilesCallback, {
					multiple:true
				});
			}
			function closeWindow()
			{
				Titanium.UI.currentWindow.close();
			}
			function closeDOMWindow()
			{
				var w = window.open('http://www.google.com');
				setTimeout(function() {
					w.close();
				}, 2000);
			}
			function chooseFileTypes()
			{
				Titanium.UI.openFileChooserDialog(selectFilesCallback, {
					multiple:true,
					types:['js', 'html'],
					typesDescription: 'Web Files'
				});
			}
			function openSaveAs()
			{
				Titanium.UI.openSaveAsDialog(selectFilesCallback);
			}
		</script>
	</head>
	<body>
		<h2>Titanium UI test</h2>
		<div>
			<button onclick="chooseFiles()">Open File Dialog (default)</button>
		</div>
		<div>
			<button onclick="chooseFilesWithPath()">Open File Dialog (with path)</button>
		</div>
		<div>
			<button onclick="chooseFilesWithPathAndFilename()">Open File Dialog (with path & filename)</button>
		</div>
		<div>
			<button onclick="chooseDirs()">Open File Dialog (directories only)</button>
		</div>
		<div>
			<button onclick="chooseMultipleFiles()">Open File Dialog (multiple files)</button>
		</div>
		<div>
			<button onclick="chooseMultiple()">Open File Dialog (multiple files)</button>
		</div>
		<div>
			<button onclick="chooseFileTypes()">Open File Dialog (JS or HTML files only)</button>
		</div>
		<div>
			<button onclick="openSaveAs()">Open Save As Dialog</button>
		</div>
		<div>
			<button onclick="closeWindow()">Close Window</button>
		</div>
		<div>
			<button onclick="closeDOMWindow()">Open and close DOM window</button>
		</div>
		<div id="log">
		</div>
	</body>
</html>
